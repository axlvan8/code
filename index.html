<!DOCTYPE html>
<html lang="en" translate="yes">
  <!--index-->
    <head>
        <title>tyty</title>
        <script src="comment.js"></script>
        <script src="t.js"></script>
        <link 
        id="favicon"
        rel="icon"
        href="Drawing-2.sketchpad.png"
        type="image/x-icon
        ">
        <style>
          div{
            border:#333
          }
          a{
            color:#0bf;
          }
          a:hover{
            color:blue;
          }
          #protected-content{
            border-radius: 10px;
            border-color: #333;
          }
          input{
            border-radius: 10px;
            width: 4in;
          }
          input:hover{
            border-color:#0bf;
            border-top-color: rgb(126, 214, 247);
          }
          button{
            background-color:whitesmoke;
            border-color:white;
            border-radius: 4px;
            border-image: auto;
            
          }
          button:hover{
            background-color:#0bf;
            border-color:white;
            border-radius: 4px;
            border-width: 0.6mm;
            color:aliceblue;
          }
          legend{
            border-radius: 90px;
            border-color:#333;
          }
          
          iframe{
            background-color: #333;
          }
            .cookie-banner {
              position: fixed;
              bottom: 0;
              background: #222;
              color: #fff;
              width: 100%;
              padding: 15px;
              text-align: center;
              z-index: 1000;
            }
            .cookie-banner a {
              color: #0bf;
            }
            .cookie-banner button {
              margin-left: 10px;
              padding: 6px 12px;
            }
            .hidden {
              display: none;
            }
            .cookie-banner{
                position: fixed;
                bottom: 0;
                background: #333;
                color: #fff;
                width: 100%;
                padding: 15px;
                text-align: center;
                z-index: 1000;
            }
            .cookie-banner button{
                margin: 0 10px;
            }
            canvas{
                border: 2px solid #daf7a3;
                border: 2px solid block;
                background-color: #87ceeb;
            }
            

            #backgroundImage{
                border: #87ceeb;
                height: 100%;
                pointer-events: all;
                position: fixed;
                top: 0;
                visibility: hidden;
                width: 100%;
            }
            [show-background-image] #backgroundImage{
                visibility: visible;
            }
            .a{
                border-color: black;
                border-width: 1;
                border-style: solid;
            }
            .topnav{
                overflow: hidden;
                background-color: #333;
            }
            .topnav a{
                float: left;
                display: block;
                color: #f2f2f2;
                text-align: center;
                padding: 14px 16px;
                text-decoration: none;
            }
            .topnav a:hover{
                background-color:#ddd;
                color: black;
            }
            #time:hover{
              border-color: #222;
              border-radius: 90%;
            }
            :root{
    --bg:#0f1724; --card:#0b1220; --accent:#3b82f6; --muted:#94a3b8; --danger:#ef4444;
    --radius:12px; --pad:18px;
  }
  
        </style>
    </head>
    <body style="background:#daf7a3;">
        <div id="cookie-banner-gdpr" class="cookie-banner ">
            <p>We use cookies and similar technologies to collect data about your usage of our site. 
              For more details, please review our  <a href="cookies.html" target="_blank">cookie policy</a></p>
            <button onclick="acceptCookies()">Accept</button>
            <button onclick="rejectCookies()">Reject</button>
        </div>
        
        <div id="cookie-banner-ccpa"  class="cookie-banner " >
          <p>We use cookies. <a href="cookies.html">Learn more</a> |
             <a href="/do-not-sell">Do Not Sell My Info</a></p>
          <button onclick="acceptCookies()">OK</button>
        </div>
        <div class="topnav">
            
        </div>
        <p id="msg"></p><p id="map"></p>
        <h1 style="color: red;">tyty</h1>
         <script src="sod.js"></script>
    <div id="time">
    <p id="currentTime"></p>
    <p id="didy"></p>
    <p id="wert"></p>
    <p id="trew"></p>

        
         <script src="local.js"></script>
        
        <script src="cookies.js"></script>
        <iframe id="backgroundImage" src=""></iframe>
        
        <link rel="json" src="wert.json">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,requiresActiveX=true" />
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="author" content="Vi&Axl Nguyen" />
        <script src="geo.js"></script>
        <button onclick="wert();">...</button>
        <script>
        
            function wert(){
    var w = window.open();
    w.document.open();
    w.document.write("<h2>tyty</h2>");
    w.document.title ="wert";
    w.document.close();
}
            
        </script>
    

    
    <fieldset><legend id="leg">Enter Name</legend>
        <input type="text" id="username"><br>
        <button onclick="storeName();">store name</button><br>
        <button onclick="recallName();">recall name</button><br>
        <button onclick="removeName();">remove name</button><br>
    </fieldset>            
        
        <ul contenteditable="true" id="list">
            <li>1</li><li>2</li><li>3</li></ul>
        
            
            
        
        <div id="container"></div>
        <p id="ggg" style="font-size: 20px; color: blue;"></p>
        <div id="container"></div>
        
        <script>
            function setupAccount(){
                const username = document.getElementById("setup-username").value;
                const password = document.getElementById("setup-password").value;
            
                if(!username || !password){
                    document.getElementById("setup-message").textContent = "Please fill out all fields.";
                    return;
                }
                if(localStorage.getItem(username)){
                    document.getElementById("setup-message").textContent = "Username already exists.";
                    return;
                }
                localStorage.setItem(username, JSON.stringify({password}));
                document.getElementById("setup-message").textContent = "account created successfuly.";
                };
                function login() {
                      const username = document.getElementById('login-username').value;
                      const password = document.getElementById('login-password').value;
                
                      const userData = JSON.parse(localStorage.getItem(username));
                
                      if (userData && userData.password === password) {
                        localStorage.setItem('loggedInUser', username);
                        showProtectedContent();
                        if (window.isParentApproved()) {
                          document.getElementById("cowboy").style.display = "block";
                        } else {
                          document.getElementById("cowboy").style.display = "none";
                        }

                        document.getElementById("a").innerHTML = "welcome!, "+username;
                      } else {
                        document.getElementById('login-message').textContent = 'Invalid username or password.';
                      }
                    }
                
                    function showProtectedContent() {
                      document.getElementById('setup-form').style.display = 'none';
                      document.getElementById('login-form').style.display = 'none';
                      document.getElementById('protected-content').style.display = 'block';
                    }
                    window.addEventListener("load", () => {
                          const loggedInUser = localStorage.getItem('loggedInUser');
                            if (loggedInUser) {
                              showProtectedContent();
                              document.getElementById("a").textContent = "Welcome back, " + loggedInUser;
                            }
                    })
                    function logout() {
                      var gfd = prompt("are you sure?response: yes or no.");
                      if(gfd.trim()==="yes"){
                      localStorage.removeItem('loggedInUser');
                      location.reload();
                      }else{
                        return;
                      }
                    }
                
                    
                    window.onload = () => {
                      const loggedInUser = localStorage.getItem('loggedInUser');
                      if (loggedInUser) {
                        showProtectedContent();
                      }
                    };
                    function comment(){
                        const comment = document.getElementById("comment").value;
                        
                        localStorage.setItem(comment);
                        document.getElementById("sss").textContent = comment;
                    }
                    
                    document.addEventListener('keydown', function(event){
                        const key = event.key;
                        const code = key.length === 1 ? key.charCodeAt(0) : event.keyCode;
                        document.getElementById('ggg').textContent = `"${key}"(ASCII/code: ${code})`;
                    })
                      
        </script>
        <button onclick="fullScreenSVG(900, 700)" >
          Fullscreen
        </button>
        <svg height="600" width="400" class="a" id="game" fill="white" xlmlns="http://www.w3.org/2000/svg">
            <circle cx="200" cy="300" r="13" stroke="black" id="bird"></circle>
            <rect id="pipeTop" x="350" y="0" width="60" height="150" fill="black"></rect>
            <rect id="pipeBottom" x="350" y="300" width="60" height="300" fill="black"></rect>
        </svg>
         <button height="300" width="200" onclick=";if(a){a=false;animate()}else{jmp()}">JUMP</button>
        <p id="score">Score: </p>
        <script>
          
        </script>
        <canvas id="canvy"></canvas>
        <div id="setup-form">
            <input type="text" id="setup-username" placeholder="username"><br>
            <input type="password" id="setup-password" placeholder="password"><br>
            <button onclick="setupAccount()">Create</button>
            <p id="setup-message" style="color:red;"></p>

        </div>
        <div id="login-form">
            <input type="text" id="login-username" placeholder="username"><br>
            <input type="password" id="login-password" placeholder="password"><br>
            <button onclick="login()">Login</button>
            <p id="login-message"></p>
        </div>
        <div id="protected-content" style="display:none">
            <h2 id="a"></h2>
            <div id="parental password">
              
    <div id="pw">
      <main class="card" role="main" aria-labelledby="title">
    <h1 id="title">Parental Approval Required</h1>
    <p class="lead">Enter the parental password below to continue. This page runs entirely in your browser (no files uploaded).</p>

    <form id="gate" autocomplete="off" onsubmit="return false;">
      <label for="reason">Reason (optional)</label>
      <input id="reason" name="reason" type="text" placeholder="Why is access requested? (optional)" aria-label="Reason for access">

      <label for="pwd">Parental password</label>
      <div class="row">
        <input id="pwd" name="pwd" type="password" placeholder="Enter parental password" aria-label="Parental password" required>
        <button id="toggle" type="button" class="ghost" aria-pressed="false" title="Show / hide">Show</button>
      </div>

      <div class="actions">
        <button id="submitBtn" type="button">Submit</button>
        <button id="clearBtn" type="button" class="ghost">Clear</button>
      </div>

      <div id="message" class="msg hidden" role="status" aria-live="polite"></div>
      <div id="meta" class="meta">Attempts left: <span id="attempts">5</span></div>
    </form>

    <footer>
      <div class="small">This is a local-only check. For stronger parental control, use OS tools or server-verified checks.</div>
    </footer>
  </main>

<script>

</script>
    </div>
            </div>
            <div id="parent-setup" style="padding:12px;border:1px solid #444;max-width:420px;">
  <h3>Parental controls (setup)</h3>
  <div id="setup-area">
    <input id="newParentPwd" type="password" placeholder="Choose parental password" style="width:70%">
    <button id="setParentBtn">Set Password</button>
    <p id="setupMsg" style="color:green"></p>
  </div>

  <div id="auth-area" style="margin-top:10px;">
    <input id="parentPwd" type="password" placeholder="Enter parental password to unlock" style="width:70%">
    <button id="verifyBtn">Verify</button>
    <button id="clearAuthBtn">Clear Approval</button>
    <p id="authMsg" style="color:red"></p>
  </div>
</div>

<script>

</script>

   
    </div>
            <div class="topnav">
                <button onclick="changeIframeSource('test2.html')">
                    flappybird
                </button>
                <button onclick="changeIframeSource('test3.html')">
                  canabalt
                </button>    
                <button onclick="changeIframeSource('editor.html')">
                    <h3>Create<br>+</h3>
                </button>
                <button onclick="changeIframeSource('p.html')">
                    paperclicker
                </button>
                <button onclick="changeIframeSource('new.html')" id="cowboy">
                    cowboy
                </button>
                <button onclick="gvc()">
                    ascii translator
                </button>
                <button onclick="changeIframeSource('three.html')">\
                    3d game 1
                </button>

                <ul id="projectList"></ul>
            </div>
            
            <a href="editor.html">Tyty Editor</a>
            <a href="test2.html">FlappyBird</a>
             <iframe height="800" width="800" src="" id="gameb" style="border:1px solid black;">
                
             </iframe>
              <div id="comments">
              

              <ul id="comments-list"></ul>
              <p>comment:</p>
              <textarea id="commentt" rows="3"></textarea>
              <button id="add-comment">POST</button>
            </div>
        

       
        
            <script>
                
            </script>
            <p id="sss"></p>
            
            <script src="editor.html" type="html"></script>
            <div id="game1" style="display:none;">
                <input type="number" id="guess" placeholder="number" />
                <button onclick="checkGuess()">submit</button>
                <p id="result"></p>
            </div>

            <button onclick="logout()">Logout</button>
            <img src="">
        </div>
        
        <div id="setup-form" style="display:none;">
            <input type="text" id="username" placeholder="Choose a username" ><br>
            <input type="password" id="password" placeholder="Choose a password" required /><br>
            <p id="message" style="color:red;"></p>
        </div>
        <h1 id="hf"></h1>
        <h2 id="hr"></h2>
        <script>
          
            function getRandomInt(min,max){
                return Math.floor(Math.random() * (max - min + 1)) + min;
            }
            function ooo(){
                let random = getRandomInt(1, 600);
                document.getElementById("hf").textContent = random;
            }
            ooo();
            
            
                

                    function bb(s, x){
                        var aa = (s / x) * new Date.now();
                        var ab = ((aa * x) / (s * x)) / (Date.now() * getRandomInt(1, z(new Date(), Math.random())));
                        document.getElementById("hr").textContent = ab;
                        if(ab > 50 && ab < 500){
                            localStorage.setItem('bd', JSON.stringify(ab))
                        }
                    }
                    function ba(d, f){
                        var aa = localStorage.getItem('bd')
                        parseInt(aa)
                    }
                  let a = true;
          
            function fullscreenSVG(newWidth, newHeight) {
                 
                    svg.setAttribute('width', newWidth);
                    svg.setAttribute('height', newHeight);
          }
 const bird = document.getElementById("bird");
  const pipeTop = document.getElementById("pipeTop");
  const pipeBottom = document.getElementById("pipeBottom");
  let score = 0;
  let y = 300;      
  let vy = 0;       
  const gravity = 0.5;
  const jumpPower = -8;

  let pipeX = 400;   
  const pipeSpeed = 2;
  const pipeWidth = 60;
  const pipeGap = 150;

  let gameRunning = true;

  function jmp() {
    vy = jumpPower;
  }

  function resetPipes() {
    pipeX = 400;
    const topHeight = Math.random() * 250 + 50;
    const bottomY = topHeight + pipeGap;

    pipeTop.setAttribute("height", topHeight);
    pipeBottom.setAttribute("y", bottomY);
    pipeBottom.setAttribute("height", 600 - bottomY);
  }

  function checkCollision() {
    const birdX = parseFloat(bird.getAttribute("cx"));
    const birdR = parseFloat(bird.getAttribute("r"));
    const topHeight = parseFloat(pipeTop.getAttribute("height"));
    const bottomY = parseFloat(pipeBottom.getAttribute("y"));

    // Collision if bird is within pipe's x range and hits top or bottom pipe
    if (
      pipeX < birdX + birdR &&
      pipeX + pipeWidth > birdX - birdR &&
      (y - birdR < topHeight || y + birdR > bottomY)
    ) {
      gameRunning = false;
      
      location.reload(); // Restart game
    }
    
  }

  function animate() {

    if (!gameRunning) return;

    vy += gravity;
    y += vy;

    // Keep bird within canvas
    if (y > 600 - 13) {
      y = 600 - 13;
      vy = 0;
    }
    if (y < 13) {
      y = 13;
      vy = 0;
    }

    // Move pipes
    pipeX -= pipeSpeed;

    if (pipeX + pipeWidth < 0) {
      resetPipes();
    }

    // Update positions
    bird.setAttribute("cy", y);
    pipeTop.setAttribute("x", pipeX);
    pipeBottom.setAttribute("x", pipeX);

    checkCollision();

    requestAnimationFrame(animate);
  }

  document.addEventListener("keydown", (e) => {
    if (e.code === "Space") {
      jump();
    }
  });

  // Initialize pipes once
  resetPipes();
           
           
           function oioioi(){
            if(frcl){
                
                frcl = false;
               }else{
                jmp();
               }
           }
           const iframe = document.getElementById("game");
           
            function changeIframeSource(url){
                document.getElementById("gameb").src = url;
            }
            function gvc(dsuhg){
                var ggkg=`<!DOCTYPE html><html><head><meta charset="UTF-8"></head><body><textarea id='ut' rows='5'></textarea>
        <button onclick="bin(document.getElementById('ut').value)">b</button>
        <button onclick="translateAscii(document.getElementById('ut').value);">t</button>
        <button onclick="copyToClipboard('asciiOutput')" id="copyOutput">📋 Copy Output</button>
        <button onclick="copyToClipboard('ut')" id="copyInput">📋 Copy Binary Input</button>

        <p id="asciiOutput" style="color:white;"></p></body></html>`
                  document.getElementById("gameb").srcdoc=ggkg;
            }
            /* ---------- Parental gate implementation ---------- */
/* Uses PBKDF2 to derive 256-bit key, stores salt+derived key hex in localStorage.
   Approval (short-lived) stored in sessionStorage. */

(function(){
  // Config
  const APPROVAL_TTL_MS = 1000 * 60 * 60; // 1 hour approval (change as needed)

  // Helpers
  function toHex(buf){
    return Array.from(new Uint8Array(buf)).map(b => b.toString(16).padStart(2,'0')).join('');
  }
  function hexToBytes(hex){
    if(!hex) return null;
    return new Uint8Array(hex.match(/.{1,2}/g).map(b=>parseInt(b,16)));
  }

  async function deriveKey(password, salt, iterations = 120000){
    const enc = new TextEncoder();
    const baseKey = await crypto.subtle.importKey('raw', enc.encode(password), 'PBKDF2', false, ['deriveBits']);
    const params = {name:'PBKDF2', salt: salt, iterations: iterations, hash: 'SHA-256'};
    const bits = await crypto.subtle.deriveBits(params, baseKey, 256);
    return new Uint8Array(bits);
  }

  // UI elements
  const newParentPwd = document.getElementById('newParentPwd');
  const setParentBtn = document.getElementById('setParentBtn');
  const setupMsg = document.getElementById('setupMsg');

  const parentPwd = document.getElementById('parentPwd');
  const verifyBtn = document.getElementById('verifyBtn');
  const authMsg = document.getElementById('authMsg');
  const clearAuthBtn = document.getElementById('clearAuthBtn');

  // Create initial state
  function parentPasswordExists(){
    return !!localStorage.getItem('parent_salt') && !!localStorage.getItem('parent_hash');
  }

  // Set parental password (run once on device)
  setParentBtn.addEventListener('click', async () => {
    setupMsg.textContent = '';
    const pwd = newParentPwd.value || '';
    if(!pwd){
      setupMsg.style.color = 'red';
      setupMsg.textContent = 'Enter a password first.';
      return;
    }
    // generate salt and derived key
    const salt = crypto.getRandomValues(new Uint8Array(16));
    const hash = await deriveKey(pwd, salt);
    localStorage.setItem('parent_salt', toHex(salt));
    localStorage.setItem('parent_hash', toHex(hash));
    newParentPwd.value = '';
    setupMsg.style.color = 'green';
    setupMsg.textContent = 'Parental password saved locally on this device.';
  });

  // Verify password
  verifyBtn.addEventListener('click', async () => {
    authMsg.textContent = '';
    const pwd = parentPwd.value || '';
    if(!pwd){
      authMsg.style.color = 'red';
      authMsg.textContent = 'Enter parental password.';
      return;
    }
    const saltHex = localStorage.getItem('parent_salt');
    const hashHex = localStorage.getItem('parent_hash');
    if(!saltHex || !hashHex){
      authMsg.style.color = 'red';
      authMsg.textContent = 'No parental password set. Set it first.';
      return;
    }
    const salt = hexToBytes(saltHex);
    const derived = await deriveKey(pwd, salt);
    if(toHex(derived) === hashHex){
      // success -> set approval in sessionStorage
      const until = Date.now() + APPROVAL_TTL_MS;
      sessionStorage.setItem('parent_approved_until', String(until));
      authMsg.style.color = 'green';
      authMsg.textContent = 'Password accepted — approval granted ✅';
      parentPwd.value = '';
    } else {
      authMsg.style.color = 'red';
      authMsg.textContent = 'Incorrect password.';
    }
  });

  // Clear approval (useful for testing)
  clearAuthBtn.addEventListener('click', () => {
    sessionStorage.removeItem('parent_approved_until');
    authMsg.style.color = 'black';
    authMsg.textContent = 'Approval cleared.';
  });

  // Utility: check approval
  window.isParentApproved = function(){
    const until = Number(sessionStorage.getItem('parent_approved_until') || 0);
    return Date.now() < until;
  };

  // If no parent password set, show a hint
  if(!parentPasswordExists()){
    setupMsg.style.color = 'orange';
    setupMsg.textContent = 'No parental password set — please set one before locking content.';
  } else {
    setupMsg.textContent = '';
  }

  /* --- Override changeIframeSource (if present) to require approval for cowboy/new.html --- */
  // Save original if present
  const origChange = window.changeIframeSource;
  window.changeIframeSource = function(url){
    // Protect only the cowboy target ('new.html') — adjust if your cowboy file is different
    const protectedPaths = ['new.html', 'cowboy.html', 'cowboy']; // add variations if needed
    const isProtected = protectedPaths.some(p => url.includes(p));
    if(isProtected && !window.isParentApproved()){
      // If not approved, show a quick modal/prompt. We prefer the input field UI above,
      // but as fallback we prompt for the password:
      const tryPrompt = confirm('Parental approval required to open this game. Click OK to enter password now.');
      if(tryPrompt){
        // open the small modal by focusing the input
        parentPwd.focus();
      }
      return; // do not load
    }
    // allowed: call original if exists or directly update iframe
    if(typeof origChange === 'function') return origChange(url);
    const iframe = document.getElementById('gameb') || document.getElementById('backgroundImage');
    if(iframe) iframe.src = url;
  };

})();
const PARENT_HASH = 'e47125968b3b71049fbc4802d1e40a71ea1359decfabacf70b34588037d4ff0c';
// parent

const MAX_ATTEMPTS = 5;
let attemptsLeft = MAX_ATTEMPTS;
let lockoutUntil = 0; // timestamp ms

const pwdInput = document.getElementById('pwd');
const submitBtn = document.getElementById('submitBtn');
const clearBtn = document.getElementById('clearBtn');
const message = document.getElementById('message');
const attemptsEl = document.getElementById('attempts');
const toggle = document.getElementById('toggle');

attemptsEl.textContent = attemptsLeft;

toggle.addEventListener('click', () => {
  const isHidden = pwdInput.type === 'password';
  pwdInput.type = isHidden ? 'text' : 'password';
  toggle.textContent = isHidden ? 'Hide' : 'Show';
  toggle.setAttribute('aria-pressed', String(isHidden));
});

clearBtn.addEventListener('click', () => {
  pwdInput.value = '';
  message.classList.add('hidden');
  pwdInput.focus();
});

submitBtn.addEventListener('click', async () => {
  clearMessage();

  if (Date.now() < lockoutUntil) {
    const secs = Math.ceil((lockoutUntil - Date.now())/1000);
    showMessage(`Too many failed attempts. Try again in ${secs} second(s).`, true);
    return;
  }

  const pwd = pwdInput.value || '';
  if (!pwd) { showMessage('Please enter the parental password.', true); pwdInput.focus(); return; }

  // compute hash and compare
  try {
    const h = await computeHash(pwd);
    if (normalizeHex(h) === normalizeHex(PARENT_HASH)) {
      // success
      showMessage('Password accepted — parental approval granted ✅', false, true);
      onSuccess();
    } else {
      attemptsLeft--;
      attemptsEl.textContent = attemptsLeft;
      if (attemptsLeft <= 0) {
        // lockout for 60 seconds (configurable)
        const lockSec = 60;
        lockoutUntil = Date.now() + lockSec*1000;
        showMessage(`Incorrect password. Too many failures — locked for ${lockSec} seconds.`, true);
      } else {
        showMessage(`Incorrect password. ${attemptsLeft} attempt(s) left.`, true);
      }
      pwdInput.focus();
    }
  } catch (err) {
    showMessage('Crypto error: ' + err.message, true);
  }
});

function onSuccess() {
  // Customize this: what should happen after approval?
  // Example: reveal content, redirect, or enable a button.
  // For demonstration we'll reveal a short success panel and disable the form.
  submitBtn.disabled = true;
  pwdInput.disabled = true;
  toggle.disabled = true;
  clearBtn.disabled = true;

  // Optionally you can perform other actions here.
}

// show message helper
function showMessage(text, isError=false, isOk=false){
  message.textContent = text;
  message.classList.remove('hidden');
  message.classList.toggle('error', isError);
  message.classList.toggle('ok', isOk);
}

// clear message
function clearMessage(){ message.textContent=''; message.classList.add('hidden'); message.classList.remove('error','ok'); }

// create SHA-256 hex from input string using SubtleCrypto
async function computeHash(str){
  if (!window.crypto || !crypto.subtle) throw new Error('Web Crypto API not available in this browser.');
  const enc = new TextEncoder();
  const data = enc.encode(str);
  const digest = await crypto.subtle.digest('SHA-256', data);
  return bufferToHex(digest);
}
function bufferToHex(buffer){
  const bytes = new Uint8Array(buffer);
  let hex = '';
  for (let i = 0; i < bytes.length; i++){
    const h = bytes[i].toString(16).padStart(2,'0');
    hex += h;
  }
  return hex;
}
function normalizeHex(h){
  return h.trim().toLowerCase().replace(/^0x/,'');
}

window.computeHash = computeHash;

/* Small accessibility: submit on Enter inside password field */
pwdInput.addEventListener('keydown', (e) => {
  if (e.key === 'Enter') submitBtn.click();
});

/* Optional: recurring check to reset attempts when lockout expires */
setInterval(() => {
  if (lockoutUntil && Date.now() >= lockoutUntil) {
    lockoutUntil = 0;
    attemptsLeft = MAX_ATTEMPTS;
    attemptsEl.textContent = attemptsLeft;
    clearMessage();
  }
}, 1000);
          
                
            
        </script>
       
    </body>
</html>